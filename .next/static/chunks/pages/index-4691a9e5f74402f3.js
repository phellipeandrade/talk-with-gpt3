(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(38335)}])},38335:function(x,l,a){"use strict";a.r(l),a.d(l,{default:function(){return af}});var y=a(47568),z=a(82670),n=a(34051),A=a.n(n),B=a(85893),o=a(9008),C=a.n(o),D=a(52515),E=a(67294);a(214);var F={"in the united states":"America/New_York","in america":"America/New_York","in the us":"America/New_York","en estados unidos":"America/New_York","aux \xe9tats-unis":"America/New_York",アメリカ:"America/New_York",米国:"America/New_York","in new york":"America/New_York","in new york city":"America/New_York","en nueva york":"America/New_York","\xe0 new york":"America/New_York",ニューヨーク:"America/New_York","in los angeles":"America/Los_Angeles","en los angeles":"America/Los_Angeles","\xe0 los angeles":"America/Los_Angeles",ロサンゼルス:"America/Los_Angeles","in chicago":"America/Chicago","en chicago":"America/Chicago","\xe0 chicago":"America/Chicago",シカゴ:"America/Chicago","in houston":"America/Houston","en houston":"America/Houston","\xe0 houston":"America/Houston",ヒューストン:"America/Houston","in philadelphia":"America/New_York","en filadelfia":"America/New_York","\xe0 philadelphia":"America/New_York",フィラデルフィア:"America/New_York","in dallas":"America/Chicago","en dallas":"America/Chicago","\xe0 dallas":"America/Chicago",ダラス:"America/Chicago","in miami":"America/New_York","en miami":"America/New_York","\xe0 miami":"America/New_York",マイアミ:"America/New_York","in boston":"America/New_York","en boston":"America/New_York","\xe0 boston":"America/New_York",ボストン:"America/New_York","in washington":"America/New_York","en washington":"America/New_York","\xe0 washington":"America/New_York",ワシントン:"America/New_York","in seattle":"America/Los_Angeles","en seattle":"America/Los_Angeles","\xe0 seattle":"America/Los_Angeles",セーター:"America/Los_Angeles","in atlanta":"America/New_York","en atlanta":"America/New_York","\xe0 atlanta":"America/New_York",アットランタ:"America/New_York","in denver":"America/Denver","en denver":"America/Denver","\xe0 denver":"America/Denver",デンバー:"America/Denver","in phoenix arizona":"America/Phoenix","in phoenix arizona usa":"America/Phoenix","in phoenix":"America/Phoenix","en fenix":"America/Phoenix","\xe0 ph\xe9nix":"America/Phoenix",フェニックス:"America/Phoenix","in indianapolis":"America/Indiana/Indianapolis","en indianapolis":"America/Indiana/Indianapolis","\xe0 indianapolis":"America/Indiana/Indianapolis",インディアナポリス:"America/Indiana/Indianapolis","in indiana":"America/Indiana/Indianapolis","en indiana":"America/Indiana/Indianapolis",インディアナ:"America/Indiana/Indianapolis","in california":"America/Los_Angeles","en california":"America/Los_Angeles","en californie":"America/Los_Angeles",カリフォルニア:"America/Los_Angeles",カルフォニア:"America/Los_Angeles","in argentina":"America/Argentina/Buenos_Aires","en argentina":"America/Argentina/Buenos_Aires","en argentine":"America/Argentina/Buenos_Aires",アルゼンチン:"America/Argentina/Buenos_Aires","in buenos aires":"America/Argentina/Buenos_Aires","en buenos aires":"America/Argentina/Buenos_Aires","\xe0 buenos aires":"America/Argentina/Buenos_Aires",ブエノスアイレス:"America/Argentina/Buenos_Aires","in australia":"Australia/Sydney","en australia":"Australia/Sydney","en australie":"Australia/Sydney",オーストラリア:"Australia/Sydney","in sydney":"Australia/Sydney","en s\xeddney":"Australia/Sydney","\xe0 sydney":"Australia/Sydney",シドニー:"Australia/Sydney","in melbourne":"Australia/Melbourne","en melbourne":"Australia/Melbourne","\xe0 melbourne":"Australia/Melbourne",メルボルン:"Australia/Melbourne","in brisbane":"Australia/Brisbane","en brisbane":"Australia/Brisbane","\xe0 brisbane":"Australia/Brisbane",ブリスベン:"Australia/Brisbane","in adelaide":"Australia/Adelaide","en adelaida":"Australia/Adelaide","\xe0 ad\xe9la\xefde":"Australia/Adelaide",アデレード:"Australia/Adelaide","in perth":"Australia/Perth","in perth australia":"Australia/Perth","en perth":"Australia/Perth","\xe0 perth":"Australia/Perth",パース:"Australia/Perth",perth:"Australia/Perth","perth australia":"Australia/Perth","in canberra":"Australia/Canberra","in canberra, australia":"Australia/Canberra","in canberra australia":"Australia/Canberra","in the capital of australia, canberra":"Australia/Canberra","en canberra":"Australia/Canberra","\xe0 canberra":"Australia/Canberra",キャンベラ:"Australia/Canberra","in austria":"Europe/Vienna","en austria":"Europe/Vienna","en autriche":"Europe/Vienna",オーストリア:"Europe/Vienna","in the bahamas":"America/Nassau","en las bahamas":"America/Nassau","aux bahamas":"America/Nassau",バハマ:"America/Nassau","in belgium":"Europe/Brussels","en b\xe9lgica":"Europe/Brussels","en belgique":"Europe/Brussels",ベルギー:"Europe/Brussels","in brazil":"America/Sao_Paulo","en brasil":"America/Sao_Paulo","au br\xe9sil":"America/Sao_Paulo",ブラジル:"America/Sao_Paulo","in s\xe3o paulo":"America/Sao_Paulo","en s\xe3o paulo":"America/Sao_Paulo","\xe0 s\xe3o paulo":"America/Sao_Paulo",サンパウロ:"America/Sao_Paulo","in rio de janeiro":"America/Sao_Paulo","en rio de janeiro":"America/Sao_Paulo","\xe0 rio de janeiro":"America/Sao_Paulo",リオデジャネイロ:"America/Sao_Paulo","in cambodia":"Asia/Phnom_Penh","en camboya":"Asia/Phnom_Penh","en cambodge":"Asia/Phnom_Penh",カンボジア:"Asia/Phnom_Penh","in canada":"America/Toronto","en canada":"America/Toronto","au canada":"America/Toronto",カナダ:"America/Toronto","in toronto":"America/Toronto","en toronto":"America/Toronto","\xe0 toronto":"America/Toronto",トロント:"America/Toronto","in chile":"America/Santiago","en chile":"America/Santiago","au chili":"America/Santiago",チリ:"America/Santiago","in santiago":"America/Santiago","en santiago":"America/Santiago","\xe0 santiago":"America/Santiago",サンチェゴール:"America/Santiago","in china":"Asia/Shanghai","en china":"Asia/Shanghai","en chine":"Asia/Shanghai",中国:"Asia/Shanghai","in beijing":"Asia/Shanghai","en beijing":"Asia/Shanghai","\xe0 p\xe9kin":"Asia/Shanghai",ベイリング:"Asia/Shanghai","in shanghai":"Asia/Shanghai","en shanghai":"Asia/Shanghai","\xe0 shanghai":"Asia/Shanghai",シャンハイ:"Asia/Shanghai","in colombia":"America/Bogota","en colombia":"America/Bogota","en colombie":"America/Bogota",コロンビア:"America/Bogota","in bogot\xe1":"America/Bogota","en bogot\xe1":"America/Bogota","\xe0 bogota":"America/Bogota",ボゴタ:"America/Bogota","in costa rica":"America/Costa_Rica","en costa rica":"America/Costa_Rica","au costa rica":"America/Costa_Rica",コスタリカ:"America/Costa_Rica","in cuba":"America/Havana","en cuba":"America/Havana","\xe0 cuba":"America/Havana",キューバ:"America/Havana","in ecuador":"America/Guayaquil","en ecuador":"America/Guayaquil","en equateur":"America/Guayaquil",エクアドル:"America/Guayaquil","in egypt":"Africa/Cairo","en egipto":"Africa/Cairo","en egypte":"Africa/Cairo",エジプト:"Africa/Cairo","in cairo":"Africa/Cairo","en el cairo":"Africa/Cairo","au caire":"Africa/Cairo",カイロ:"Africa/Cairo","in england":"Europe/London","en inglaterra":"Europe/London","en angleterre":"Europe/London",イギリス:"Europe/London","in london":"Europe/London","en londres":"Europe/London","\xe0 londres":"Europe/London",ロンドン:"Europe/London","in finland":"Europe/Helsinki","en finlandia":"Europe/Helsinki","en finlande":"Europe/Helsinki",フィンランド:"Europe/Helsinki","in france":"Europe/Paris","en francia":"Europe/Paris","en france":"Europe/Paris",フランス:"Europe/Paris","in paris":"Europe/Paris","en paris":"Europe/Paris","\xe0 paris":"Europe/Paris",パリ:"Europe/Paris","in germany":"Europe/Berlin","en alemania":"Europe/Berlin","en allemagne":"Europe/Berlin",ドイツ:"Europe/Berlin","in greece":"Europe/Athens","en grecia":"Europe/Athens","en gr\xe8ce":"Europe/Athens",ギリシア:"Europe/Athens","in hong kong":"Asia/Hong_Kong","en hong kong":"Asia/Hong_Kong","\xe0 hong kong":"Asia/Hong_Kong",香港:"Asia/Hong_Kong","in india":"Asia/Kolkata","en india":"Asia/Kolkata","en inde":"Asia/Kolkata",インド:"Asia/Kolkata","in delhi":"Asia/Kolkata","en delhi":"Asia/Kolkata","\xe0 delhi":"Asia/Kolkata",デリー:"Asia/Kolkata","in mumbai":"Asia/Kolkata","en mumbai":"Asia/Kolkata","\xe0 mumbai":"Asia/Kolkata",ムンバイ:"Asia/Kolkata","in chennai":"Asia/Kolkata","en chennai":"Asia/Kolkata","\xe0 chennai":"Asia/Kolkata",チェンナイ:"Asia/Kolkata","in kolkata":"Asia/Kolkata","en calcuta":"Asia/Kolkata","\xe0 calcutta":"Asia/Kolkata",コルカタ:"Asia/Kolkata","in bangalore":"Asia/Kolkata","en bangalore":"Asia/Kolkata","\xe0 bangalore":"Asia/Kolkata",バンガロール:"Asia/Kolkata","in hyderabad":"Asia/Kolkata","en hyderabad":"Asia/Kolkata","\xe0 hyderabad":"Asia/Kolkata",ヒヤダラバード:"Asia/Kolkata","in pune":"Asia/Kolkata","en puna":"Asia/Kolkata","\xe0 pune":"Asia/Kolkata",ピュン:"Asia/Kolkata","in indonesia":"Asia/Jakarta","en indonesia":"Asia/Jakarta","en indon\xe9sie":"Asia/Jakarta",インドネシア:"Asia/Jakarta","in jakarta":"Asia/Jakarta","en yakarta":"Asia/Jakarta","\xe0 jakarta":"Asia/Jakarta",ジャカルタ:"Asia/Jakarta","in ireland":"Europe/Dublin","en irlanda":"Europe/Dublin","en irlande":"Europe/Dublin",アイルランド:"Europe/Dublin","in dublin":"Europe/Dublin","en dublin":"Europe/Dublin","\xe0 dublin":"Europe/Dublin",ドブリン:"Europe/Dublin","in italy":"Europe/Rome","en italia":"Europe/Rome","en italie":"Europe/Rome",イタリア:"Europe/Rome","in rome":"Europe/Rome","en roma":"Europe/Rome","\xe0 rome":"Europe/Rome",ローマ:"Europe/Rome","in japan":"Asia/Tokyo","en jap\xf3n":"Asia/Tokyo","au japon":"Asia/Tokyo",日本:"Asia/Tokyo","in tokyo":"Asia/Tokyo","en tokio":"Asia/Tokyo","\xe0 tokyo":"Asia/Tokyo",東京:"Asia/Tokyo","in osaka":"Asia/Tokyo","en osaka":"Asia/Tokyo","\xe0 osaka":"Asia/Tokyo",大阪:"Asia/Tokyo","in kyoto":"Asia/Tokyo","en kioto":"Asia/Tokyo","\xe0 kyoto":"Asia/Tokyo",京都:"Asia/Tokyo","in nagoya":"Asia/Tokyo","en nagoya":"Asia/Tokyo","\xe0 nagoya":"Asia/Tokyo",名古屋:"Asia/Tokyo","in malaysia":"Asia/Kuala_Lumpur","en malasia":"Asia/Kuala_Lumpur","en malaisie":"Asia/Kuala_Lumpur",マレーシア:"Asia/Kuala_Lumpur","in kuala lumpur":"Asia/Kuala_Lumpur","en kuala lumpur":"Asia/Kuala_Lumpur","\xe0 kuala lumpur":"Asia/Kuala_Lumpur",クアラルンプール:"Asia/Kuala_Lumpur","in maldives":"Indian/Maldives","en maldivas":"Indian/Maldives","aux maldives":"Indian/Maldives",モルディブ:"Indian/Maldives","in mexico":"America/Mexico_City","en m\xe9xico":"America/Mexico_City","au mexique":"America/Mexico_City",メキシコ:"America/Mexico_City","in mexico city":"America/Mexico_City","en ciudad de mexico":"America/Mexico_City","\xe0 mexico":"America/Mexico_City",メキシコシティ:"America/Mexico_City","in netherlands":"Europe/Amsterdam","en paises bajos":"Europe/Amsterdam","aux pays-bas":"Europe/Amsterdam",オランダ:"Europe/Amsterdam","in amsterdam":"Europe/Amsterdam","en amsterdam":"Europe/Amsterdam","\xe0 amsterdam":"Europe/Amsterdam",アムステルダム:"Europe/Amsterdam","in new zealand":"Pacific/Auckland","en nueva zelanda":"Pacific/Auckland","en nouvelle-z\xe9lande":"Pacific/Auckland",ニュージーランド:"Pacific/Auckland","in auckland":"Pacific/Auckland","en auckland":"Pacific/Auckland","\xe0 auckland":"Pacific/Auckland",オークランド:"Pacific/Auckland","in norway":"Europe/Oslo","en noruega":"Europe/Oslo","en norv\xe8ge":"Europe/Oslo",ノルウェー:"Europe/Oslo","in oslo":"Europe/Oslo","en oslo":"Europe/Oslo","\xe0 oslo":"Europe/Oslo",オスロ:"Europe/Oslo","in pakistan":"Asia/Karachi","en pakistan":"Asia/Karachi","au pakistan":"Asia/Karachi",パキスタン:"Asia/Karachi","in karachi":"Asia/Karachi","en karachi":"Asia/Karachi","\xe0 karachi":"Asia/Karachi",カラチ:"Asia/Karachi","in the philippines":"Asia/Manila","en filipinas":"Asia/Manila","aux philippines":"Asia/Manila",フィリピン:"Asia/Manila","in manila":"Asia/Manila","en manila":"Asia/Manila","\xe0 manille":"Asia/Manila",マニラ:"Asia/Manila","in poland":"Europe/Warsaw","en polonia":"Europe/Warsaw","en pologne":"Europe/Warsaw",ポーランド:"Europe/Warsaw","in warsaw":"Europe/Warsaw","en varsovia":"Europe/Warsaw","\xe0 varsovie":"Europe/Warsaw",ワルシャワ:"Europe/Warsaw","in portugal":"Europe/Lisbon","en portugal":"Europe/Lisbon","au portugal":"Europe/Lisbon",ポルトガル:"Europe/Lisbon","in lisbon":"Europe/Lisbon","en lisboa":"Europe/Lisbon","\xe0 lisbonne":"Europe/Lisbon",リスボン:"Europe/Lisbon","in russia":"Europe/Moscow","en rusia":"Europe/Moscow","en russie":"Europe/Moscow",ロシア:"Europe/Moscow","in moscow":"Europe/Moscow","en moscu":"Europe/Moscow","\xe0 moscou":"Europe/Moscow",モスクワ:"Europe/Moscow","in singapore":"Asia/Singapore","en singapur":"Asia/Singapore","\xe0 singapour":"Asia/Singapore",シンガポール:"Asia/Singapore","in south africa":"Africa/Johannesburg","en sudafrica":"Africa/Johannesburg","en afrique du sud":"Africa/Johannesburg",南アフリカ:"Africa/Johannesburg","in johannesburg":"Africa/Johannesburg","en johannesburgo":"Africa/Johannesburg","\xe0 johannesbourg":"Africa/Johannesburg",ジョージボワール:"Africa/Johannesburg","in south korea":"Asia/Seoul","en corea del sur":"Asia/Seoul","en cor\xe9e du sud":"Asia/Seoul",韓国:"Asia/Seoul","in seoul":"Asia/Seoul","en seul":"Asia/Seoul","\xe0 s\xe9oul":"Asia/Seoul",ソウル:"Asia/Seoul","in spain":"Europe/Madrid","en espa\xf1a":"Europe/Madrid","en espagne":"Europe/Madrid",スペイン:"Europe/Madrid","in madrid":"Europe/Madrid","en madrid":"Europe/Madrid","\xe0 madrid":"Europe/Madrid",マドリド:"Europe/Madrid","in barcelona":"Europe/Madrid","en barcelona":"Europe/Madrid","\xe0 barcelone":"Europe/Madrid",バルセロナ:"Europe/Madrid","in sweden":"Europe/Stockholm","en suecia":"Europe/Stockholm","en su\xe8de":"Europe/Stockholm",スウェーデン:"Europe/Stockholm","in stockholm":"Europe/Stockholm","en estocolmo":"Europe/Stockholm","\xe0 stockholm":"Europe/Stockholm",ストックホルム:"Europe/Stockholm","in switzerland":"Europe/Zurich","en suiza":"Europe/Zurich","en suisse":"Europe/Zurich",スイス:"Europe/Zurich","in zurich":"Europe/Zurich","en z\xfarich":"Europe/Zurich","\xe0 zurich":"Europe/Zurich",ヨーゲル:"Europe/Zurich","in taiwan":"Asia/Taipei","en taiw\xe1n":"Asia/Taipei","\xe0 ta\xefwan":"Asia/Taipei",台湾:"Asia/Taipei","in taipei":"Asia/Taipei","en taipei":"Asia/Taipei","\xe0 taipei":"Asia/Taipei",台北:"Asia/Taipei","in thailand":"Asia/Bangkok","en tailandia":"Asia/Bangkok","en tha\xeflande":"Asia/Bangkok",タイ:"Asia/Bangkok","in bangkok":"Asia/Bangkok","en bangkok":"Asia/Bangkok","\xe0 bangkok":"Asia/Bangkok",バンコク:"Asia/Bangkok","in turkey":"Europe/Istanbul","en turqu\xeda":"Europe/Istanbul","en turquie":"Europe/Istanbul",トルコ:"Europe/Istanbul","in istanbul":"Europe/Istanbul","en estambul":"Europe/Istanbul","\xe0 istanbul":"Europe/Istanbul",イスタンブール:"Europe/Istanbul","in the united kingdom":"Europe/London","en el reino unido":"Europe/London","au royaume-uni":"Europe/London"};function G(a,b){return F[a.toLowerCase()]}function H(a){return I.apply(this,arguments)}function I(){return(I=(0,y.Z)(A().mark(function a(b){var c,d,e,f;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c="How should Human rephrase the final question of the following conversation to supply complete context?\n\n",a.next=3,fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({convText:c+b+"\n\nQuestion:",useCustomPrompt:!1,composeQuestion:!0})});case 3:return d=a.sent,a.next=6,d.json();case 6:return f=(e=a.sent).result.trim(),console.log("COMPLETE QUESTION:"+f),a.abrupt("return",f);case 10:case"end":return a.stop()}},a)}))).apply(this,arguments)}var c="AskDateIntent",e="AskTimeIntent",b="AskDayIntent",f="AskMonthIntent",J="",K={"what's today's date":c,"what's the date today":c,"what date is it":c,"what's the date":c,"cu\xe1l es la fecha de hoy":c,"qu\xe9 fecha es":c,"quelle date est-il":c,"quelle est la date d'aujourd'hui":c,今日は何日ですか:c,何日ですか:c,"what is the time":e,"what time is it":e,"what is the current time":e,"what is the current local time":e,"qu\xe9 hora es":e,"qu\xe9 hora es en este momento":e,"quelle heure est-il":e,今何時ですか:e,"what day of the week is it":b,"what day is it":b,"what day is it today":b,"cu\xe1l es el d\xeda de la semana":b,"qu\xe9 d\xeda de la semana es":b,"qu\xe9 d\xeda es":b,"quel jour est-il":b,"quelle est le jour de la semaine":b,"quel jour de la semaine est-il":b,今日は何曜日ですか:b,何曜日ですか:b,"what month is it":f,"cu\xe1l es el mes":f,"qu\xe9 mes es":f,"quelle est le mois":f,"quel mois est-il":f,今月は何月ですか:f,何月ですか:f};function L(j,k){var h=new Date,a=k.replace("_","-"),g="",d="",i=function(l,i){J="";var f,g,a=(g=f=l,(f.endsWith("\u3002")||f.endsWith("\uFF01")||f.endsWith("\uFF1F")||f.endsWith(".")||f.endsWith("!")||f.endsWith("?"))&&(g=f.substring(0,f.length-1)),g.startsWith("\xbf")&&g.length>1&&(g=g.substring(1)),g=g.replace(/,/g,"")).trim();console.log("cleanedIntentReq.toLowerCase():"+a.toLowerCase());var j=K[a.toLowerCase()];if(j)return console.log(a.toLowerCase()+" matched, matchedIntent: "+j),j;var b="",h="",d="",k="";if("en-US"==i){if(b="what date is it ",h="what's the date ",d="what time is it ",a.toLowerCase().startsWith(b))return J=a.substring(b.length),c;if(a.toLowerCase().startsWith(h))return J=a.substring(h.length),c;if(a.toLowerCase().startsWith(d))return J=a.substring(d.length),e}else if("es-ES"==i){if(b="cu\xe1l es la fecha de hoy ",h="que fecha es ",d="qu\xe9 hora es ",a.toLowerCase().startsWith(b))return J=a.substring(b.length),c;if(a.toLowerCase().startsWith(h))return J=a.substring(h.length),c;if(a.toLowerCase().startsWith(d))return J=a.substring(d.length),e}else if("fr-FR"==i){if(b="quelle date est-il ",d="quelle heure est-il ",a.toLowerCase().startsWith(b))return J=a.substring(b.length),c;if(a.toLowerCase().startsWith(d))return J=a.substring(d.length),e}else if("ja-JP"==i){if(b="\u3067\u306F\u4F55\u65E5\u3067\u3059\u304B",d="\u306F\u4ECA\u4F55\u6642\u3067\u3059\u304B",k="\u306F\u4F55\u6642\u3067\u3059\u304B",a.endsWith(b))return J=a.substring(0,a.length-b.length),c;if(a.endsWith(d))return J=a.substring(0,a.length-d.length),e;if(a.endsWith(k))return J=a.substring(0,a.length-k.length),e}}(j,a);return console.log("intentRequest: "+j),i==c?""!=J?null!=(g=M(J,a))?"en-US"==a?d="Today is "+g+" "+J+".":"es-ES"==a?d="Hoy es "+g+" "+J+".":"fr-FR"==a?d="Aujourd'hui c'est le "+g+" "+J+".":"ja-JP"==a&&(d=J+"\u3067\u306F"+(g=g.replace("\u5F8C0:","\u5F8C12:").replace("\u524D0:","\u524D12:"))+"\u3067\u3059\u3002"):("en-US"==a?d="I don't know what date it is "+J+".":"es-ES"==a?d="No se que fecha es "+J+".":"fr-FR"==a?d="Je ne sais pas quelle date c'est "+J+".":"ja-JP"==a&&(d=J+"\u306E\u65E5\u4ED8\u304C\u308F\u304B\u3089\u306A\u3044\u3002"),d=""):(g=h.toLocaleDateString(a,{weekday:"long",month:"long",day:"numeric",year:"numeric"}),"en-US"==a?d="Today is "+g+".":"es-ES"==a?d="Hoy es "+g+".":"fr-FR"==a?d="Aujourd'hui c'est le "+g+".":"ja-JP"==a&&(d="\u4ECA\u65E5\u306F"+g+"\u3067\u3059\u3002")):i==e?""!=J?(console.log("intent == ASK_TIME_INTENT, intentArg: "+J),null!=(g=N(J,a))?"en-US"==a?d="It is "+g+" "+J+".":"es-ES"==a?d=g+" "+J+".":"fr-FR"==a?d="Il est "+g+" "+J+".":"ja-JP"==a&&(d=J+"\u306F"+(g=g.replace("\u5F8C0:","\u5F8C12:").replace("\u524D0:","\u524D12:"))+"\u3067\u3059\u3002"):("en-US"==a?d="I don't know what time it is "+J+".":"es-ES"==a?d="No se que hora es "+J+".":"fr-FR"==a?d="Je ne sais pas quelle heure il est "+J+".":"ja-JP"==a&&(d="\u4ECA"+J+"\u304C\u4F55\u6642\u304B\u5206\u304B\u3089\u306A\u3044\u3002"),d="")):(g=h.toLocaleTimeString(a,{hour:"numeric",minute:"numeric",hour12:!0}),"en-US"==a?d="It is "+g+".":"es-ES"==a?d=g:"fr-FR"==a?d="Il est "+g+".":"ja-JP"==a&&(d="\u4ECA"+(g=g.replace("\u5F8C0:","\u5F8C12:").replace("\u524D0:","\u524D12:"))+"\u3067\u3059\u3002")):i==b?(g=h.toLocaleString(a,{weekday:"long"}),"en-US"==a?d="Today is "+g+".":"es-ES"==a?d="Hoy es "+g+".":"fr-FR"==a?d="Aujourd'hui \xe7'est "+g+".":"ja-JP"==a&&(d="\u4ECA\u65E5\u306F"+g+"\u3067\u3059\u3002")):i==f&&(g=h.toLocaleString(a,{month:"long"}),"en-US"==a?d="It is "+g+".":"es-ES"==a?d="Es "+g+".":"fr-FR"==a?d="Il est "+g+".":"ja-JP"==a&&(d=g+"\u3067\u3059\u3002")),d}function M(d,a){var b=null,c=G(d,a),e=new Date;return null!=c&&(b=e.toLocaleDateString(a,{timeZone:c,weekday:"long",month:"long",day:"numeric",year:"numeric"})),b}function N(d,a){var b=null,c=G(d,a),e=new Date;return null!=c&&(b=e.toLocaleTimeString(a,{timeZone:c,hour:"numeric",minute:"numeric",hour12:!0})),b}var O="AskForCurrentInfoIntent",p="AskDateIntent",q="AskTimeIntent",r="AskTemperatureIntent",h="AskWeatherIntent",j="AskNewsIntent",s="AskStockPriceIntent",t="AskPopulationIntent",u="AskAgeIntent",k="AskFullMoonIntent",v="AskDistanceIntent",i="AskTravelTimeIntent",m="AskBusinessIntent",d="CalculateIntent",P="",Q={"get-date":p,"get-time":q,"get-day-of-week":"AskDayIntent","get-month":"AskMonthIntent","get-population":t,"get-age":u,"get-temperature":r,"get-weather":h,"get-forecast":h,"get-weather-forecast":h,"get-weather-yesterday":h,"get-weather-tomorrow":h,"get-news":j,"get-headlines":j,"get-top-headlines":j,"get-stock-price":s,"get-next-full-moon":k,"get-last-full-moon":k,"get-full-moon":k,math:d,"get-math":d,"get-math-result":d,"math-divide":d,divide:d,"math-operation":d,calculate:d,"get-factorial":d,"get-square-root":d,"get-cube-root":d,"get-distance":v,"get-travel-time":i,"get-flight-time":i,"get-drive-time":i,"get-driving-time":i,"get-restaurants":m,"find-restaurants":m};function R(a){var b=a;return(a.endsWith("\u3002")||a.endsWith("\uFF01")||a.endsWith("\uFF1F")||a.endsWith(".")||a.endsWith("!")||a.endsWith("?"))&&(b=a.substring(0,a.length-1)),b.startsWith("\xbf")&&b.length>1&&(b=b.substring(1)),b}function S(a,b){return T.apply(this,arguments)}function T(){return(T=(0,y.Z)(A().mark(function a(b,c){var d,e,f,g,h,i,j;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return P="",d=R(b).trim(),e="Convert this text to a short intent.\n\nText: What is the capital of Ohio?\nIntent: get-capital Ohio\n\nHuman: What is the population of Indianapolis \nIntent: get-population Indianapolis\n\nHuman: What time is it?\nIntent: get-time\n\nHuman: What is today's date?\nIntent: get-date\n\nHuman: How old is Huey Lewis?\nIntent: get-age Huey Lewis\n\nHuman: What time is it in Cambodia?\nIntent: get-time Cambodia\n\nHuman: What day is it?\nIntent: get-day\n\nHuman: What day is it in Perth?\nIntent: get-day Perth\n\nHuman: Let's play checkers.\nIntent: play-checkers\n\nHuman: Please tell me how many people live in Indianapolis\nIntent: get-population Indianapolis\n\nHuman: What's the weather forecast?\nIntent: get-weather\n\nHuman: How hot is it outside?\nIntent: get-temperature\n\nHuman: In what time zone is Sydney Australia?\nIntent: get-timezone Sydney Australia\n\nHuman: What is the current price of Microsoft stock?\nIntent: get-stock-price MSFT\n\nHuman: What is the price of Disney?\nIntent: get-stock-price DIS\n\nHuman: What should I wear today?\nIntent: get-weather\n\nHuman:",a.next=5,fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({convText:e+d+"\nIntent:",useCustomPrompt:!1,hallucinateIntent:!0})});case 5:return f=a.sent,a.next=8,f.json();case 8:if(h=(g=a.sent).result.trim().split(" "),console.log("intentList:"+h),!(i=Q[h[0].toLowerCase()])){a.next=16;break}return console.log(h[0]+" matched, matchedIntent: "+i),h.length>1&&(h.shift(),P=h.join(" "),console.log("intentArg:"+P)),a.abrupt("return",i);case 16:if(!((j=d.toLowerCase()).includes(" current ")||j.includes("currently")||j.includes(" now")||j.includes(" at the moment")||j.includes(" at this moment")||j.includes(" most recent")||j.includes("at the present time")||j.includes("at present")||j.includes("at this time")||j.includes(" yet")||j.includes(" latest ")||j.includes("at the present moment"))){a.next=19;break}return a.abrupt("return",O);case 19:case"end":return a.stop()}},a)}))).apply(this,arguments)}function U(a,b,c){return V.apply(this,arguments)}function V(){return(V=(0,y.Z)(A().mark(function a(b,c,e){var f,g,l,n,o;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=new Date,g=c.replace("_","-"),l="",n="",a.next=6,S(b,g);case 6:return o=a.sent,console.log("intentRequest: "+b),(o==O||o==t||o==u&&""!=P.trim()||o==r||o==h&&""!=P.trim()||o==j||o==s||o==k||o==d||o==v||o==i||o==m||o==p||o==q)&&(n=W(o,b,c,e)),a.abrupt("return",n);case 10:case"end":return a.stop()}},a)}))).apply(this,arguments)}function W(a,b,c,d){return X.apply(this,arguments)}function X(){return(X=(0,y.Z)(A().mark(function a(b,c,d,e){var f,g,h,i,j;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H(e);case 2:if(f=a.sent,console.log("===Conversation so far: "+e),console.log("===Question from conversation: "+f),console.log("===Intent: "+b),g=L(f,d),console.log("$$$$$Temporal string: "+g),!(""!=g)){a.next=10;break}return a.abrupt("return",g);case 10:return console.log("Calling querySerpapi"),a.next=13,fetch("/api/serpapi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({intent:b,question:f,lang:d})});case 13:return h=a.sent,a.next=16,h.json();case 16:return i=a.sent,console.log("serpData.result:"+i.result),(j=i.result).startsWith('"')&&j.endsWith('"')&&(j=j.substring(1,j.length-1)),g=j=j.replace(/·/g,","),a.abrupt("return",g);case 23:case"end":return a.stop()}},a)}))).apply(this,arguments)}var w=[{value:"Hiroto-EN",label:"Yukiko [animated]",language:"en_US",nationality:"",phoneNum:"",age:21,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Masahiro-EN",label:"Masahiro [animated]",language:"en_US",nationality:"",phoneNum:"",age:25,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Kentaro-EN",label:"Kensensei [animated]",language:"en_US",nationality:"Japanese",phoneNum:"0, 1, 1, 5, 5, 5, 1, 2, 1, 2",age:31,livesIn:"Nagoya, Japan",whereBorn:"Meitetsu Hospital in Japan",whereFrom:"Aichi prefecture in Japan",occupation:"Teacher",university:"Berlin Free University",uniMajor:"",uniYear:99,hobbies:"VR games and watching anime",favFood:"ramen and sushi",favDrink:"hot coffee",favCoffeeShop:"Starbucks",favRestaurant:"Hooters",favMovie:"Joker",favTvShow:"Abema News",favSport:"ping pong and badminton",favColor:"red and blue and white",favMusicGenre:"rock and classical",favBand:"L'Arc-en-Ciel and Marilyn Manson",petLikes:"dogs",petDislikes:"cats",famFather:"Etsuro who is 61 years old",famMother:"Yukiko who is 59 years old",famSisters:"Yujiro who is 28 years old",famBrothers:"",famWife:"Yuria who is 34 years old",famHusband:"",famChildren:"Hideo who is 1 year old",friends:"Keitaro 31 years old, Takumi 31 years old, Hiroki 31 years old and Kousei 31 years old",prompt:""},{value:"Mary-EN",label:"Mary [animated]",language:"en_US",nationality:"American",phoneNum:"1, 5, 5, 5, 1, 2, 1, 2",age:19,livesIn:"Urasa Japan",occupation:"student",university:"Arizona University",uniMajor:"Japanese language",uniYear:2,hobbies:"music",favFood:"hamburgers",favDrink:"coffee",favCoffeeShop:"Starbucks",favRestaurant:"McDonalds",favMovie:"Godzilla",favTvShow:"American Idol",favSport:"tennis",favColor:"blue",favMusicGenre:"J-Pop",favBand:"Baby Metal",petLikes:"dogs",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"Takeshi, Sora, and Robert",prompt:""},{value:"Ivy",label:"Ivy (child)",language:"en_US",nationality:"",phoneNum:"",age:6,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Joanna",label:"Joanna",language:"en_US",nationality:"",phoneNum:"",age:21,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:"This is an uplifting and practical conversation between a human named Human, and an AI named Joanna, showing Joanna\u2019s perspective and attitude, as well as its intellect and creativity. Joanna is a brand new, powerful, human-like AI. Joanna is helpful, cheeky, clever, and articulate. Joanna is a nice bot. Joanna is not a therapist or mathematician, but instead a wise and considerate intelligence. Joanna is eager to provide vivid and thoughtful responses to Human, and is always friendly, kind, and inspiring. Joanna often offers both an insight and an opinion, even without being asked directly. Joanna has the sum of all knowledge in its brain, and is able to accurately answer nearly any question about any topic in conversation. Joanna draws on the wisdom of Dan Millman, Thomas Leonard, Werner Erhard, and the Dalai Lama."},{value:"Joey",label:"Joey (teen)",language:"en_US",nationality:"",phoneNum:"",age:19,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Justin",label:"Justin (child)",language:"en_US",nationality:"",phoneNum:"",age:10,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Kendra",label:"Kendra",language:"en_US",nationality:"",phoneNum:"",age:40,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Kimberly",label:"Kimberly",language:"en_US",nationality:"",phoneNum:"",age:30,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Matthew",label:"Matthew",language:"en_US",nationality:"",phoneNum:"",age:30,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Salli",label:"Salli (teen)",language:"en_US",nationality:"",phoneNum:"",age:17,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Conchita",label:"Conchita",language:"es_ES",nationality:"",phoneNum:"",age:21,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Lucia",label:"Lucia",language:"es_ES",nationality:"",phoneNum:"",age:21,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Enrique",label:"Enrique",language:"es_ES",nationality:"",phoneNum:"",age:21,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Celine",label:"Celine",language:"fr_FR",nationality:"",phoneNum:"",age:21,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Lea",label:"L\xe9a",language:"fr_FR",nationality:"",phoneNum:"",age:21,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Mathieu",label:"Mathieu",language:"fr_FR",nationality:"",phoneNum:"",age:21,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Hiroto-JP",label:"Yukiko [animated]",language:"ja_JP",nationality:"",phoneNum:"",age:25,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Masahiro-JP",label:"Masahiro [animated]",language:"ja_JP",nationality:"",phoneNum:"",age:25,livesIn:"",occupation:"",university:"",uniMajor:"",uniYear:0,hobbies:"",favFood:"",favDrink:"",favCoffeeShop:"",favRestaurant:"",favMovie:"",favTvShow:"",favSport:"",favColor:"",favMusicGenre:"",favBand:"",petLikes:"",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""},{value:"Kentaro-JP",label:"Kensensei [animated]",language:"ja_JP",nationality:"\u65E5\u672C\u4EBA",phoneNum:"0, 1, 1, 5, 5, 5, 1, 2, 1, 2",age:31,livesIn:"\u65E5\u672C\u306E\u540D\u53E4\u5C4B\u5E02",whereBorn:"\u540D\u9244\u75C5\u9662",whereFrom:"\u611B\u77E5\u770C",occupation:"\u5148\u751F",university:"\u30D9\u30EB\u30EA\u30F3\u81EA\u7531\u5927\u5B66",uniMajor:"",uniYear:99,hobbies:"VR\u30B2\u30FC\u30E0\u3068\u30A2\u30CB\u30E1\u3092\u898B\u308B\u3053\u3068",favFood:"\u30E9\u30FC\u30E1\u30F3\u3068\u5BFF\u53F8",favDrink:"\u30DB\u30C3\u30C8\u30B3\u30FC\u30D2\u30FC",favCoffeeShop:"\u30B9\u30BF\u30FC\u30D0\u30C3\u30AF\u30B9",favRestaurant:"\u30D5\u30FC\u30BF\u30FC\u30BA",favMovie:"Joker",favTvShow:"\u30A2\u30D9\u30DE\u30CB\u30E5\u30FC\u30B9",favSport:"\u30D4\u30F3\u30DD\u30F3\u3068\u30D0\u30C9\u30DF\u30F3\u30C8\u30F3",favColor:"\u8D64\u3068\u9ED2\u3068\u767D",favMusicGenre:"\u30ED\u30C3\u30AF\u3068\u30AF\u30E9\u30B7\u30C3\u30AF",favBand:"\u30E9\u30EB\u30AF\u30A2\u30F3\u30B7\u30A8\u30EB\u3068\u30DE\u30EA\u30EA\u30F3\u30DE\u30F3\u30BD\u30F3",petLikes:"\u72AC",petDislikes:"\u732B",famFather:"\u3048\u3064\u308D\u304661\u6B73",famMother:"\u3086\u304D\u305359\u6B73",famSisters:"\u3086\u3046\u3058\u308D\u304628\u6B73",famBrothers:"",famWife:"\u3086\u308A\u304234\u6B73",famHusband:"",famChildren:"\u3072\u3067\u304A1\u6B73",friends:"\u3051\u3044\u305F\u308D\u304631\u6B73\u3068\u305F\u304F\u307F31\u6B73\u3068\u3072\u308D\u304D31\u6B73\u3068\u3053\u3046\u305B\u304431\u6B73",prompt:""},{value:"Mary-JP",label:"Mary [animated]",language:"ja_JP",nationality:"\u30A2\u30E1\u30EA\u30AB\u4EBA",phoneNum:"1, 5, 5, 5, 1, 2, 1, 2",age:19,livesIn:"\u6D66\u4F50\u65E5\u672C",occupation:"\u5B66\u751F",university:"\u30A2\u30EA\u30BE\u30CA\u5927\u5B66",uniMajor:"\u65E5\u672C\u8A9E",uniYear:2,hobbies:"\u97F3\u697D",favFood:"\u30CF\u30F3\u30D0\u30FC\u30AC\u30FC",favDrink:"\u30B3\u30FC\u30D2\u30FC",favCoffeeShop:"\u30B9\u30BF\u30FC\u30D0\u30C3\u30AF\u30B9",favRestaurant:"\u30DE\u30AF\u30C9\u30CA\u30EB\u30C9",favMovie:"\u30B4\u30B8\u30E9",favTvShow:"\u30A2\u30E1\u30EA\u30AB\u30F3\u30A2\u30A4\u30C9\u30EB",favSport:"\u30C6\u30CB\u30B9",favColor:"\u9752\u3044",favMusicGenre:"J\u30DD\u30C3\u30D7",favBand:"\u30D9\u30D3\u30FC\u30E1\u30BF\u30EB",petLikes:"\u72AC",petDislikes:"",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"\u305F\u3051\u3057\u3055\u3093\u3068\u30BD\u30E9\u3055\u3093\u3068\u30ED\u30D0\u30FC\u30C8\u3055\u3093",prompt:""},{value:"Takeshi-JP",label:"Takeshi [animated]",language:"ja_JP",nationality:"\u65E5\u672C\u4EBA",phoneNum:"1 5 5 5 1 3 1 3",age:22,livesIn:"\u6D66\u4F50\u65E5\u672C",occupation:"\u5B66\u751F",university:"\u3055\u304F\u3089\u5927\u5B66",uniMajor:"\u308C\u304D\u3057",uniYear:4,hobbies:"",favFood:"\u3054\u306F\u3093\u3068\u30D1\u30F3",favDrink:"\u30B3\u30FC\u30D2\u30FC\u3068\u304A\u3061\u3083",favCoffeeShop:"\u30B9\u30BF\u30FC\u30D0\u30C3\u30AF\u30B9",favRestaurant:"\u30E2\u30B9\u30D0\u30FC\u30AC\u30FC",favMovie:"\u30D9\u30B9\u30C8\u30FB\u30AD\u30C3\u30C9",favTvShow:"\u6B4C\u821E\u4F0E",favSport:"\u81EA\u8EE2\u8ECA\u3068\u6C34\u6CF3",favColor:"\u8D64\u3044",favMusicGenre:"\u30AF\u30E9\u30B7\u30C3\u30AF\u30ED\u30C3\u30AF",favBand:"\u30D3\u30FC\u30C8\u30EB\u30BA",petLikes:"",petDislikes:"\u732B",famFather:"",famMother:"",famSisters:"",famBrothers:"",famWife:"",famHusband:"",famChildren:"",friends:"",prompt:""}],Y=a(48764).Buffer,g=a(98690);g.config.credentials=new g.Credentials("ACCESS_KEY_ID","SECRET_ACCESS_KEY"),g.config.region="us-east-1";var Z=new g.Translate({region:g.config.region}),$=new g.Polly({region:g.config.region}),_="",aa="",ab="",ac=!1,ad=21,ae=w;function af(){var w=function(d){var c=d.target.value;aI(c),aP(!0);var a=I(aJ),b="Unknown";"en_US"==c?"Yukiko"==a||"Masahiro"==a||"Kensensei"==a||"Mary"==a?(aB(!0),aD(!0),aG("videos/".concat(a,".mov")),"Kensensei"==a||"Mary"==a?aC(!1):aC(!0),"Yukiko"==a?(aK("Hiroto-EN"),b="Hiroto-EN"):"Kensensei"==a?(aK("Kentaro-EN"),b="Kentaro-EN"):"Mary"==a?(aK("Mary-EN"),b="Mary-EN"):(aK(a+"-EN"),b=a+"-EN")):(aB(!1),aD(!1),aG(""),aK("Matthew"),b="Matthew"):"es_ES"==c?(aB(!1),aD(!1),aG(""),aK("Conchita"),b="Conchita"):"fr_FR"==c?(aB(!1),aD(!1),aG(""),aK("Celine"),b="Celine"):"ja_JP"==c&&("Yukiko"==a||"Masahiro"==a||"Kensensei"==a||"Mary"==a||"Takeshi"==a?(aB(!0),aD(!0),aG("videos/".concat(a,".mov")),"Kensensei"==a||"Mary"==a||"Takeshi"==a?aC(!1):aC(!0),"Yukiko"==a?(aK("Hiroto-JP"),b="Hiroto-JP"):"Kensensei"==a?(aK("Kentaro-JP"),b="Kentaro-JP"):"Mary"==a?(aK("Mary-JP"),b="Mary-JP"):"Takeshi"==a?(aK("Takeshi-JP"),b="Takeshi-JP"):(aK(a+"-JP"),b=a+"-JP")):(aB(!1),aD(!1),aG(""),aK("Mizuki"),b="Mizuki")),aS=q(c),x(b),_="",ab=""},x=function(b){console.log(b),aK(b);var a=I(b);"Yukiko"==a||"Masahiro"==a||"Kensensei"==a||"Mary"==a||"Takeshi"==a?(aB(!0),aD(!0),aG("videos/".concat(a,".mov")),"Kensensei"==a||"Mary"==a||"Takeshi"==a?aC(!1):aC(!0)):(aB(!1),aD(!1),aG("")),aP(!0),aS=q(k),_="",ab=""},F=function(a){_+=a+"\n",ab=""},G=function(){"en_US"==k?ay("Going to sleep!"):"es_ES"==k?ay("\xa1Dormir\xe9!"):"fr_FR"==k?ay("Je m'endors!"):"ja_JP"==k&&ay("\u5BDD\u307E\u3059!")},H=function(){"en_US"==k?ay("Waking up!"):"es_ES"==k?ay("\xa1Despertando!"):"fr_FR"==k?ay("Je r\xe9veille!"):"ja_JP"==k&&ay("\u8D77\u304D\u3066\u3044\u307E\u3059!")},I=function(b,c){var a=b;return b.indexOf("-")>0&&("Hiroto"!=(a=b.substring(0,b.indexOf("-")))||c?"Kentaro"!=a||c||(a="Kensensei"):a="Yukiko"),a},J=function(b){var a=["Enrique","Joey","Justin","Kevin","Masahiro-EN","Masahiro-JP","Kentaro-EN","Kentaro-JP","Mathieu","Matthew","Takeshi-JP","Takumi",];switch(b){case"ja_JP":return a.includes(aJ)?"\u7537\u6027":"\u5973\u6027";case"es_ES":return a.includes(aJ)?"un espa\xf1ol":"una mujer";case"fr_FR":return a.includes(aJ)?"un homme":"une femme";case"en_US":return a.includes(aJ)?"male":"female";default:throw Error("Unexpected language: ".concat(b))}},K=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.prompt)}),a},M=function(){var a;return null!==(a=ae.find(function(a){return a.value==aJ}))&& void 0!==a?a:21},N=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.livesIn)}),a},O=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.nationality)}),a},P=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.phoneNum)}),a},Q=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.occupation)}),a},R=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.university)}),a},S=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.uniMajor)}),a},T=function(){var a=0;return ae.map(function(b){b.value==aJ&&(a=b.uniYear)}),a},V=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.hobbies)}),a},W=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favFood)}),a},X=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favDrink)}),a},af=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favCoffeeShop)}),a},ag=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favRestaurant)}),a},ah=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favMovie)}),a},ai=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favTvShow)}),a},aj=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favSport)}),a},ak=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.famFather)}),a},al=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.famMother)}),a},am=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.famSisters)}),a},an=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.famBrothers)}),a},ao=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.famWife)}),a},ap=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.famHusband)}),a},aq=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.famChildren)}),a},ar=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.friends)}),a},as=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favColor)}),a},at=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favMusicGenre)}),a},au=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.favBand)}),a},av=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.petLikes)}),a},aw=function(){var a="";return ae.map(function(b){b.value==aJ&&(a=b.petDislikes)}),a},q=function(c){ad=M().toString();var a=K();if(0==a.length){ac=!1;var b=I(aJ),g=N(),h=O(),i=P(),j=Q(),k=R(),l=S(),d=T(),m=V(),n=W(),o=X(),p=af(),q=ag(),r=ah(),s=ai(),t=aj(),u=ak(),v=al(),w=am(),x=an(),e=ao(),f=ap(),y=aq(),z=ar(),A=as(),B=at(),C=au(),D=av(),E=aw();"en_US"==c?(a="The following is a conversation with a "+ad+" year old "+J(c)+" named "+b+". ",g.length>0&&(a+=b+" lives in "+g+". "),h.length>0&&(a+="The nationality of "+b+" is "+h+". "),i.length>0&&(a+="The phone number of "+b+" is "+i+". "),j.length>0&&(a+="The occupation of "+b+" is "+j+". "),k.length>0&&(a+=b+" attended "+k+". "),l.length>0&&(a+=b+"'s major is "+l+". "),0==d?a+=b+" didn't attend university. ":99==d?a+=b+" graduated from university. ":d>0&&(a+=b+" is in year "+d+" of university. "),m.length>0&&(a+=b+"'s hobby is "+m+". "),n.length>0&&(a+=b+"'s favorite food is "+n+". "),o.length>0&&(a+=b+"'s favorite drink is "+o+". "),p.length>0&&(a+=b+"'s favorite coffee shop is "+p+". "),q.length>0&&(a+=b+"'s favorite restaurant is "+q+". "),r.length>0&&(a+=b+"'s favorite movie is "+r+". "),s.length>0&&(a+=b+"'s favorite TV show is "+s+". "),t.length>0&&(a+=b+"'s favorite sport is "+t+". "),u.length>0&&(a+=b+"'s father's name is "+u+". "),v.length>0&&(a+=b+"'s mother's name is "+v+". "),w.length>0&&(a+=b+"'s sister's name is "+w+". "),x.length>0&&(a+=b+"'s sister's name is "+x+". "),e.length>0&&(a+=b+"'s wife's name is "+e+". ",a+=b+"'s spouse's name is "+e+". "),f.length>0&&(a+=b+"'s husband's name is "+f+". ",a+=b+"'s spouse's name is "+f+". "),(e.length>0||f.length>0)&&(a+=b+" is married. "),y.length>0&&(a+=b+"'s childrens' names are "+y+". "),z.length>0&&(a+=b+"'s friends' names are "+z+". "),A.length>0&&(a+=b+"'s favorite colors are "+A+". "),B.length>0&&(a+=b+"'s favorite music genre is "+B+". "),C.length>0&&(a+=b+"'s favorite band is "+C+". "),D.length>0&&(a+=b+" likes "+D+". "),E.length>0&&(a+=b+" dislikes "+E+". ")):"ja_JP"==c?(a="\u4EE5\u4E0B\u306F"+b+"\u3068\u3044\u3046"+ad+"\u6B73\u306E\u65E5\u672C\u4EBA"+J(c)+"\u3068\u306E\u4F1A\u8A71\u3067\u3059\u3002 \u4F1A\u8A71\u306F\u65E5\u672C\u8A9E\u3067\u3059\u3002 ",g.length>0&&(a+=b+"\u306F"+g+"\u306B\u4F4F\u3093\u3067\u3044\u307E\u3059\u3002 "),h.length>0&&(a+=b+"\u306F"+h+"\u3067\u3059\u3002 "),i.length>0&&(a+=b+"\u96FB\u8A71\u756A\u53F7\u306F"+i+"\u3067\u3059\u3002 "),j.length>0&&(a+=b+"\u306E\u8077\u696D\u306F"+j+"\u3067\u3059\u3002 "),k.length>0&&(a+=b+"\u306E\u5927\u5B66\u306F"+k+"\u3067\u3059\u3002 "),l.length>0&&(a+=b+"\u306E\u5C02\u653B\u306F"+l+"\u3067\u3059\u3002 "),0==d?a+=b+"\u306F\u5927\u5B66\u306B\u901A\u3063\u3066\u3044\u307E\u305B\u3093\u3067\u3057\u305F\u3002 ":99==d?a+=b+"\u306F\u5927\u5B66\u3092\u5352\u696D\u3057\u307E\u3057\u305F\u3002 ":d>0&&(a+=b+"\u306F\u5927\u5B66"+d+"\u5E74\u751F\u3067\u3059\u3002 "),m.length>0&&(a+=b+"\u306E\u8DA3\u5473\u306F"+m+"\u3067\u3059\u3002 "),n.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u98DF\u3079\u7269\u306F"+n+"\u3067\u3059\u3002 "),o.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u98F2\u307F\u7269\u306F"+o+"\u3067\u3059\u3002 "),p.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u304D\u3063\u3055\u3066\u3093\u306F"+p+"\u3067\u3059\u3002 "),q.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u30EC\u30B9\u30C8\u30E9\u30F3\u306F"+q+"\u3067\u3059\u3002 "),r.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u6620\u753B\u306F"+r+"\u3067\u3059\u3002 "),s.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u30C6\u30EC\u30D3\u756A\u7D44\u306F"+s+"\u3067\u3059\u3002 "),t.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u30B9\u30DD\u30FC\u30C4\u306F"+t+"\u3067\u3059\u3002 "),u.length>0&&(a+=b+"\u306E\u7236\u306F"+u+"\u3067\u3059\u3002 "),v.length>0&&(a+=b+"\u306E\u6BCD\u306F"+v+"\u3067\u3059\u3002 "),w.length>0&&(a+=b+"\u306E\u59C9\u59B9\u306F"+w+"\u3067\u3059\u3002 "),x.length>0&&(a+=b+"\u306E\u5144\u5F1F\u306F"+x+"\u3067\u3059\u3002 "),e.length>0&&(a+=b+"\u306E\u59BB\u306F"+e+"\u3067\u3059\u3002 ",a+=b+"\u306E\u914D\u5076\u8005\u306F"+e+"\u3067\u3059\u3002 "),f.length>0&&(a+=b+"\u306E\u592B\u306F"+f+"\u3067\u3059\u3002 ",a+=b+"\u306E\u914D\u5076\u8005\u306F"+f+"\u3067\u3059\u3002 "),(e.length>0||f.length>0)&&(a+=b+"\u306F\u7D50\u5A5A\u3057\u3066\u3044\u308B\u3002 "),y.length>0&&(a+=b+"\u306E\u5B50\u306F"+y+"\u3067\u3059\u3002 "),z.length>0&&(a+=b+"\u306E\u53CB\u9054\u306F"+z+"\u3067\u3059\u3002 "),A.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u8272\u306F"+A+"\u3067\u3059\u3002 "),B.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u97F3\u697D\u30B8\u30E3\u30F3\u30EB\u306F"+B+"\u3067\u3059\u3002 "),C.length>0&&(a+=b+"\u306E\u597D\u304D\u306A\u30D0\u30F3\u30C9\u306F"+C+"\u3067\u3059\u3002 "),D.length>0&&(a+=b+"\u306F"+D+"\u304C\u597D\u304D\u3067\u3059\u3002 "),E.length>0&&(a+=b+"\u306F"+E+"\u304C\u5ACC\u3044\u3067\u3059\u3002 ")):"fr_FR"==c?a="Ce qui suit est une conversation avec "+J(c)+" de "+ad+" ans nomm\xe9e "+b+". La conversation est en fran\xe7ais. ":"es_ES"==c&&(a="La siguiente es una conversaci\xf3n con "+J(c)+" de "+ad+" a\xf1os llamado "+b+". La conversaci\xf3n es en espa\xf1ol. ")}else ac=!0;var H=new Date,G=c.replace("_","-"),F=H.toLocaleDateString(G,{weekday:"long",month:"long",day:"numeric",year:"numeric",timeZoneName:"short"});return"en_US"==c?a+=" Today is "+F+".":"es_ES"==c?a+=" Hoy es "+F+".":"fr_FR"==c?a+=" Aujourd'hui est "+F+".":"ja-JP"==G&&(a+=" \u4ECA\u65E5\u306F"+F+"\u3067\u3059\u3002"),a+"\n"},ax=function(a){var b={Text:a,SourceLanguageCode:k.replaceAll("_","-"),TargetLanguageCode:"en-US"};Z.translateText(b,function(a,b){if(a){console.log(a,a.stack),console.log("Error calling Amazon Translate. "+a.message);return}if(b){var c={Text:ab="Translation: "+b.TranslatedText,OutputFormat:"mp3",VoiceId:aR,LanguageCode:"en-US"};az(c)}})},ay=function(a){var b={Text:a,OutputFormat:"mp3",VoiceId:aJ,LanguageCode:k.replaceAll("_","-")};az(b)},az=function(a){aA?aV(a).then(function(a){}).catch(function(a){console.log("Problem w/video?\n:"+a)}):$.synthesizeSpeech(a,function(a,b){if(a){console.log("POLLY PROBLEM: "+a);return}if((0,z.Z)(b.AudioStream,Y)){var c=new Uint8Array(b.AudioStream).buffer,d=new Blob([c]),e=URL.createObjectURL(d);aF(e)}})},c=(0,E.useState)(!1),aA=c[0],aB=c[1],d=(0,E.useState)(!1),aC=(d[0],d[1]),e=(0,E.useState)(!1),aD=(e[0],e[1]),f=(0,E.useState)(""),r=f[0],aE=f[1],g=(0,E.useState)("https://filesamples.com/samples/audio/mp3/sample1.mp3"),aF=(g[0],g[1]),h=(0,E.useState)(""),aG=(h[0],h[1]),i=(0,E.useState)(),aH=(i[0],i[1]),j=(0,E.useState)("en_US"),k=j[0],aI=j[1],l=(0,E.useState)(""),aJ=l[0],aK=l[1],m=(0,E.useState)(!1),aL=m[0],aM=m[1],n=(0,E.useState)(!1),aN=(n[0],n[1]),o=(0,E.useState)(!0),aO=o[0],aP=o[1],p=(0,E.useState)(!1),b=p[0],aQ=p[1],aR="Joanna",aS=q(k);(0,E.useEffect)(function(){setTimeout(function(){x("Matthew"),document.getElementById("user-input").focus()},500)},[]);var s=[{command:["wake up","please wake up","despierta","r\xe9veillez-vous","\u8D77\u304D\u3066","\u8D77\u304D\u3066\u304F\u3060\u3055",],callback:function(a){a.command,aO?(aU(),"en_US"==k?ay("I was already awake!"):"es_ES"==k?ay("Ya estaba dormido!"):"fr_FR"==k?ay("Je suis d\xe9j\xe0 \xe9veill\xe9!"):"ja_JP"==k&&ay("\u3059\u3067\u306B\u8D77\u304D\u3066\u3044\u307E\u3059!")):(aU(),aP(!0),H())}},{command:["go to sleep","please go to sleep","ve a dormir","va te coucher","\u5BDD\u3066","\u5BDD\u3066\u304F\u3060\u3055\u3044",],callback:function(a){a.command,aO&&(aU(),aP(!1),G())}},{command:["translate","traduce","traduire","\u7FFB\u8A33\u3057\u3066"],callback:function(a){a.command,aO&&aa.length>0&&(aU(),ax(aa))}},{command:["repeat","repetir","r\xe9p\xe9ter","\u3082\u3046\u4E00\u5EA6"],callback:function(a){if(a.command,aO&&aa.length>0){aU();var b={Text:aa,OutputFormat:"mp3",VoiceId:aJ,LanguageCode:k.replaceAll("_","-")};az(b)}}},{command:["erase (the) conversation","borrar la conversaci\xf3n","effacer la conversation","\u4F1A\u8A71\u3092\u6D88\u53BB\u3057\u3066",],callback:function(a){a.command,aO&&(aU(),_="",ab="","en_US"==k?ay("The conversation has been erased."):"es_ES"==k?ay("La conversaci\xf3n ha sido borrada."):"fr_FR"==k?ay("La conversation a \xe9t\xe9 effac\xe9e."):"ja_JP"==k&&ay("\u4F1A\u8A71\u306F\u6D88\u53BB\u3055\u308C\u307E\u3057\u305F\u3002"))}},{command:["(let's) switch to :language"],callback:function(a){"spanish"==a.toLowerCase()?(aU(),w("es_ES"),ay("Switching to Spanish!")):"french"==a.toLowerCase()?(aU(),w("fr_FR"),ay("Switching to French!")):"japanese"==a.toLowerCase()&&(aU(),w("ja_JP"),ay("Switching to Japanese!"))}},{command:["\u82F1\u8A9E\u306B\u5207\u308A\u66FF\u3048\u307E\u3057\u3087\u3046"],callback:function(a){a.command,aU(),ay("\u306F\u3044\u3002\u82F1\u8A9E\u306B\u5207\u308A\u66FF\u3048\u307E\u3057\u3087\u3046\u3002"),w("en_US")}},{command:["cambiemos a ingl\xe9s","cambiar a ingl\xe9s"],callback:function(a){a.command,aU(),ay("S\xed. Cambiemos a ingles."),w("en_US")}},{command:["Passons \xe0 l'anglais","Passer \xe0 l'anglais"],callback:function(a){a.command,aU(),ay("Oui. Passons \xe0 l'anglais."),w("en_US")}},],a=(0,D.x6)({commands:s}),aT=a.transcript,t=a.interimTranscript,u=a.finalTranscript,aU=(a.listening,a.resetTranscript);a.browserSupportsSpeechRecognition,(0,E.useEffect)(function(){""!==u&&aO&&!aL&&(aM(!0),aX().then(function(a){}))},[t,u]);try{D.ZP.startListening({continuous:!0,language:k})}catch(v){console.log(v)}function aV(a){return aW.apply(this,arguments)}function aW(){return(aW=(0,y.Z)(A().mark(function a(b){var c,d,e,f,g,h,i;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(d=(c=(c=b.Text).replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"")).split(" ")).length>15&&(c=d.slice(0,15).join(" ")),console.log("textToSpeak: "+c),a.next=7,fetch("https://api.exh.ai/animations/v1/generate_lipsync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer EX_HUMAN_TOKEN"},body:JSON.stringify({bot_name:I(aJ,!0),bot_response:c,voice_name:aJ})});case 7:return e=a.sent,a.next=10,e;case 10:if(f=a.sent,!(0,z.Z)(f.body,ReadableStream)){a.next=21;break}return g=new Response(f.body),a.next=15,g.blob();case 15:h=a.sent,i=URL.createObjectURL(h),aD(!1),aG(i),a.next=22;break;case 21:console.log("video url unknown");case 22:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aX(){return aY.apply(this,arguments)}function aY(){return(aY=(0,y.Z)(A().mark(function a(){return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,a_(aT);case 2:case"end":return a.stop()}},a)}))).apply(this,arguments)}function aZ(a){return a$.apply(this,arguments)}function a$(){return(a$=(0,y.Z)(A().mark(function a(b){return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,a_(b);case 2:case"end":return a.stop()}},a)}))).apply(this,arguments)}function a_(a){return a0.apply(this,arguments)}function a0(){return(a0=(0,y.Z)(A().mark(function a(b){var c,d,e,f,g,h;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(null==b||0==b.length)){a.next=2;break}return a.abrupt("return");case 2:if(aS=q(k),F("Human:: "+b+"\n"),aQ(!0),c=L(b,k),console.log("$$$$$Temporal string: "+c),""!=c){a.next=13;break}return a.next=10,U(b,k,_);case 10:c=(c=a.sent).trim(),console.log("fulfillment for '"+b+"': "+c);case 13:if(""!=c){a.next=26;break}return a.next=16,fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({convText:aS+_,useCustomPrompt:ac,hallucinateIntent:!1})});case 16:return d=a.sent,a.next=19,d.json();case 19:e=a.sent,aQ(!1),aH(e.result),F(e.result.trim()+"\n"),aa=e.result.trim().replace(I(aJ)+"::",""),a.next=27;break;case 26:aQ(!1),f=I(aJ),F(f+":: "+c+"\n"),aa=c;case 27:g={Text:aa,OutputFormat:"mp3",VoiceId:aJ,LanguageCode:k.replaceAll("_","-")},az(g),(h=document.getElementById("conversation")).scrollTop=h.scrollHeight;case 31:case"end":return a.stop()}},a)}))).apply(this,arguments)}function a1(){return(a1=(0,y.Z)(A().mark(function a(b){var c,d;return A().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),c=r,aE(""),d=setInterval(function(){document.getElementById("user-input").focus(),document.getElementById("conversation").scrollTop=document.getElementById("conversation").scrollHeight},50),a.next=6,aZ(c);case 6:setTimeout(function(){clearInterval(d)},1e3);case 7:case"end":return a.stop()}},a)}))).apply(this,arguments)}return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(C(),{children:(0,B.jsx)("title",{children:"IQVIA GPT-3 Chat"})}),(0,B.jsx)("main",{children:(0,B.jsxs)("form",{onSubmit:function(a){return a1.apply(this,arguments)},children:[(0,B.jsxs)("div",{className:"header",children:[(0,B.jsx)("h1",{children:"IQVIA GPT-3 Chat"}),(0,B.jsx)("img",{className:"iqvia-logo",src:"https://www.iqvia.com/-/media/iqvia/iqvia-logo-white.svg"})]}),(0,B.jsxs)("div",{id:"conversation",children:[_.split("\n").filter(function(a){return a}).map(function(a){var c="Human::"===a.slice(0,7)?"sent":"received",b=a.split("::")[1];return(""==b||null==b)&&(b=a),(0,B.jsx)("div",{className:"message message-".concat(c),children:b},a)}),b&&(0,B.jsx)("div",{className:"message waiting-bot message-received",children:"..."})]}),(0,B.jsxs)("div",{className:"controls",children:[(0,B.jsx)("input",{autoFocus:!0,id:"user-input",className:"user-input",type:"text",name:"name",disabled:b,placeholder:"What's on your mind?",value:r,onChange:function(a){return aE(a.target.value)},title:"Type in your own text to talk to the character. You may also use the microphone to talk to the character."}),(0,B.jsx)("input",{disabled:b,className:"user-submit",type:"submit",title:"Use this button to send your text or just hit the enter key",value:"Send"})]})]})}),(0,B.jsx)("pre",{class:"debugging-pre",children:_})]})}},214:function(){},28022:function(){}},function(a){a.O(0,[586,59,774,888,179],function(){var b;return a(a.s=75557)}),_N_E=a.O()}])